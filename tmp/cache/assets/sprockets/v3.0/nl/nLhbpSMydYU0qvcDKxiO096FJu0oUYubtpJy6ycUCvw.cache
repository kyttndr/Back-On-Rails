I"I(function() {
  $(window).load(function() {
    return window.initMap();
  });

  $(document).on('turbolinks:load', function() {
    return window.initMap();
  });

  jQuery(function() {
    var toggleBounce;
    window.initMap = function() {
      var i, map, marker;
      map = new google.maps.Map(document.getElementById('map'), {
        center: {
          lat: 43.66090860000001,
          lng: -79.39595179999999
        },
        zoom: 13
      });
      i = 0;
      while (i < gon.places.length) {
        marker = new google.maps.Marker({
          position: {
            lat: gon.places[i].latitude,
            lng: gon.places[i].longitude
          },
          title: gon.places[i].address,
          map: map,
          animation: google.maps.Animation.DROP
        });
        marker.addListener('click', toggleBounce);
        i++;
      }
    };
    return toggleBounce = function() {
      if (marker.getAnimation() !== null) {
        marker.setAnimation(null);
      } else {
        marker.setAnimation(google.maps.Animation.BOUNCE);
      }
    };
  });

}).call(this);
:ET