<h1>Edit Transaction</h1>

<%= render 'error_messages' %>

<table>
	<tr>
		<th>Item</th>
		<th>Description</th>
		<th>Lender</th>
	</tr>
	<tr>
		<td><%= @transaction.item.name %></td>
		<td><%= @transaction.item.description %></td>
		<td><%= @transaction.lender.username %></td>
	</tr>
</table>
</p>

<% query_params = {item_id: @item.id} %>
<%=form_for(:transaction, url: transaction_path(query_params), method: :put) do |form|%>
    Start Day: <%= form.date_field :start_date %></br>
    End Day: <%= form.date_field :end_date %></br>
    <%= form.hidden_field :redirect, value: pending_transactions_path %>
    <%= form.hidden_field :render, value: edit_transaction_path(@transaction, item_id: @item) %>
    <%= form.hidden_field :send_notification, value: 0 %>
    <%=submit_tag("Edit request to borrow item")%></br>
<%end%>

<%= render 'calendar', list_transactions: @ongoing_item_transactions, show: 'borrowers' %>
